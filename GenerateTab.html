<!-- GÃ©nÃ©ration IA avec sous-onglets : Insertion / SÃ©lection -->
<div class="content" id="generate" style="display:none;">

  <div class="sub-tabs">
    <button id="gen-insert-btn" class="active" onclick="switchGenMode('insert')">ğŸ“¥ Insertion IA</button>
    <button id="gen-select-btn" onclick="switchGenMode('selection')">âœï¸ SÃ©lection IA</button>
  </div>

  <!-- ğŸ”¹ Mode INSERTION : donnÃ©es Marvelab + prompts -->
  <div id="gen-insert" class="gen-mode-section">
    <button onclick="loadAllData()">ğŸ“‚ Charger les donnÃ©es</button>
    <div id="dataList" style="margin-top: 1rem; display: flex; flex-direction: column; gap: 1rem;"></div>

    <h3>ğŸ¯ Choisir un prompt</h3>
    <div class="radio-inputs">
      <label class="radio"><input type="radio" name="promptOption" value="intro"><span class="name">ğŸ§  Introduction</span></label>
      <label class="radio"><input type="radio" name="promptOption" value="methodo"><span class="name">ğŸ”¬ MÃ©thodologie</span></label>
      <label class="radio"><input type="radio" name="promptOption" value="conclusion"><span class="name">ğŸ§¾ Conclusion</span></label>
    </div>

    <h3>ğŸ’¬ Ajout perso au prompt</h3>
    <textarea id="customPrompt" rows="3" style="width: 100%;" placeholder="Ex. : traduis en anglais, fais-le plus synthÃ©tique..."></textarea>

    <button onclick="generateFromPrompt()">ğŸš€ GÃ©nÃ©rer le texte</button>
  </div>

  <!-- ğŸ”¹ Mode SÃ‰LECTION : IA sur texte sÃ©lectionnÃ© dans Docs -->
  <div id="gen-selection" class="gen-mode-section" style="display:none;">
    <h3>ğŸ–‹ï¸ GÃ©nÃ©ration Ã  partir du texte sÃ©lectionnÃ©</h3>
    <p>Choisis le type de texte Ã  gÃ©nÃ©rer :</p>

    <div class="radio-inputs">
      <label class="radio"><input type="radio" name="selectionPromptOption" value="intro"><span class="name">ğŸ§  Introduction</span></label>
      <label class="radio"><input type="radio" name="selectionPromptOption" value="methodo"><span class="name">ğŸ”¬ MÃ©thodologie</span></label>
      <label class="radio"><input type="radio" name="selectionPromptOption" value="conclusion"><span class="name">ğŸ§¾ Conclusion</span></label>
    </div>

    <textarea id="customSelectionPrompt" rows="3" style="width: 100%;" placeholder="Ajoute un style, une consigne en plusâ€¦"></textarea>
    <button onclick="generateFromSelection()">âœ¨ GÃ©nÃ©rer depuis la sÃ©lection</button>

    <hr>

    <h3>âœï¸ Autres actions IA</h3>
    <button onclick="correctSelection()">âœ… Corriger la sÃ©lection</button>
    <button onclick="reformulateSelection()">ğŸ” Reformuler la sÃ©lection</button>
    <button onclick="criticizeSelection()">ğŸ§ª Critique constructive</button>
  </div>
</div>